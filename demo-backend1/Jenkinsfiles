pipeline {
    agent any
    
    stages {
        stage("Build & making tar file") {
            steps {
                sh "cd demo-backend1"
                sh "cd demo-backend1 && tar -cvf javatar.${img_tag}.tar target"
            }
        }
        stage('pushing to nexus reo') {
            steps {
                sh 'curl -v -u jashu:12345 --upload-file javatar.${img_tag}.tar "http://65.2.70.97:8081/repository/maven-repo/"'
            }
        }
    }
}
